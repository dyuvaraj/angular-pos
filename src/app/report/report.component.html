

<h5 class="title">Reports</h5>

<div class="col-md-3">
    <div class="form-check">
        <label class="form-check-label" style="cursor: pointer;">
          <input name="type" class="form-check-input" [(ngModel)]="type" type="radio" [value]="1" [checked]="options"/> Get report by Customer
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label" style="cursor: pointer;">
          <input name="type" class="form-check-input" [(ngModel)]="type" type="radio" [value]="0" [checked]="!options"/> Get report by Dates
        </label>
      </div>
</div>
<br/><br/>
<div  *ngIf="type == 1" class="col-md-4">
    <div class="form-group">
        <div class="form-group row">

            <label for="exampleFormControlSelect2" class="col-3 col-form-label">Customer</label>
            <div class="col-9">
                <select name="customerlist" (change)="getReportByCustomer($event)" class="form-control">
                    <option  value="0"> - Select Customer - </option>
                    <option *ngFor="let customer of customers;" value="{{customer.customer_name}}">{{customer.customer_name}}</option>
                </select>
            </div>

        </div>
    </div>
</div>

<div *ngIf="type == 0" class="col-md-4">
    <div class="form-group">
        <div class="form-group row">
            <label for="example-month-input" class="col-3 col-form-label">From Date</label>
            <div class="col-9">
              <input class="form-control" type="date" [(ngModel)]="fromDate" id="example-month-input">
            </div>
          </div>
    </div>

    <div class="form-group">
        <div class="form-group row">
            <label for="example-month-input" class="col-3 col-form-label">To Date</label>
            <div class="col-9">
              <input class="form-control" type="date" [(ngModel)]="toDate" id="example-month-input">
            </div>
          </div>
    </div>

    <div class="form-group">
        <div class="form-group row">
            <label for="example-month-input" class="col-3 col-form-label"></label>
            <div class="col-9 ">
                <button type="submit" class="btn btn-primary" (click)="getReportByDate()" style="float:right">Submit</button>
            </div>
          </div>
    </div>
    
</div>


<div class="col-md-12">    

    <div class="row">
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                <h4 class="card-title">Sales Order List</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                    <table class="table">
                        <thead class=" text-primary">
                        <th>No</th>
                        <th>Order Date</th>
                        <th >Customer Name</th>
                        <th class="text-right">Total</th>
                        </thead>
                        <tbody>
                        <tr *ngFor="let sale of salesData; let i = index">

                            <td>{{i+1}}</td>
                            <td>{{sale.order_date}}</td>
                            <td>{{sale.customer_name}}</td>
                            <td class="text-right">{{sale.total}}</td>

                        </tr>
                        </tbody>
                    </table>
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="showData" class="col-md-8">
            <div class="col-md-6">
                <div class="card card-stats">
        
                    <div class="card-header">Total Sales Orders</div>
        
                    <div class="card-body ">
                        <div class="row">
                          <div class="col-5 col-md-4">
                            <div class="icon-big text-center icon-warning">
                              <i class="nc-icon nc-delivery-fast text-success"></i>
                            </div>
                          </div>
                          <div class="col-7 col-md-8">
                            <div class="numbers">
                              <!-- <p class="card-category">Total Profit</p> -->
                              <h3><p class="card-title">{{profitData.total_sales_order}}</p></h3>
                            </div>
                          </div>
                        </div>
                      </div>
        
                </div>
            </div>

              <br/>

              <div *ngIf="showData" class="col-md-6">
                <div class="card card-stats">
                    <div class="card-header">Total Profit</div>
                  <div class="card-body ">
                    <div class="row">
                      <div class="col-5 col-md-4">
                        <div class="icon-big text-center icon-warning">
                          <i class="nc-icon nc-money-coins text-success"></i>
                        </div>
                      </div>
                      <div class="col-7 col-md-8">
                        <div class="numbers">
                          <!-- <p class="card-category">Total Profit</p> -->
                          <h3><p class="card-title">₹ {{profitData.total_profit}}</p></h3>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <br/>

              <div *ngIf="showData" class="col-md-6">
                <div class="card card-stats">
                    <div class="card-header">Product Sale Stats</div>
                  <div class="card-body ">
                    <div class="row">
                      <div class="col-5 col-md-4">
                        <div class="icon-big text-center icon-warning">
                          <!-- <i class="nc-icon nc-money-coins text-success"></i> -->
                        </div>
                      </div>
                      <div class="col-7 col-md-8">
                        <!-- <div class="numbers"> -->
                            <div *ngFor="let product of profitData.total_product_sold; let i = index">
                                <p>{{product.product_name}} (Qty - {{product.qty}}) - ₹ {{product.profit_sale}}</p>
                            </div>
                        <!-- </div> -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>

        </div>
    </div>
    
</div>